<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MyShop - E-commerce Store</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Promotional Banner -->
    <div class="promo-banner">
        <div class="promo-text">
            ðŸŽ‰ Free shipping on orders over $50! ðŸ“¦ &nbsp;&nbsp;&nbsp; ðŸ’¥ 20% off electronics today! &nbsp;&nbsp;&nbsp; ðŸš€ Fast delivery guaranteed!
        </div>
    </div>

    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <h1 class="logo">MyShop</h1>
                <div class="header-actions">
                    <button class="admin-link" onclick="showAdminLogin()">Admin</button>
                    <button class="cart-btn" id="cartBtn">
                        <span class="cart-icon">ðŸ›’</span>
                        <span class="cart-count" id="cartCount">0</span>
                        <span class="cart-total" id="cartTotal">$0.00</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Category Tabs -->
            <div class="category-tabs" id="categoryTabs">
                <button class="tab-btn active" data-category="all">All Products</button>
                <button class="tab-btn" data-category="electronics">Electronics</button>
                <button class="tab-btn" data-category="clothing">Clothing</button>
                <button class="tab-btn" data-category="home-garden">Home & Garden</button>
                <button class="tab-btn" data-category="sports-outdoors">Sports & Outdoors</button>
            </div>

            <!-- Products Grid -->
            <div class="products-grid" id="productsGrid">
                <!-- Products will be loaded here -->
            </div>
        </div>
    </main>

    <!-- Cart Modal -->
    <div class="modal hidden" id="cartModal">
        <div class="modal-backdrop" onclick="hideCartModal()"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>Shopping Cart</h3>
                <button class="modal-close" onclick="hideCartModal()">Ã—</button>
            </div>
            <div class="modal-body" id="cartItems">
                <!-- Cart items will be loaded here -->
            </div>
            <div class="modal-footer">
                <div class="cart-total-section">
                    <div class="cart-total-label">Total: <span id="modalCartTotal">$0.00</span></div>
                </div>
                <button class="btn btn--primary btn--full-width" onclick="shareOrderViaWhatsApp()">
                    Share Order via WhatsApp
                </button>
            </div>
        </div>
    </div>

    <!-- Admin Login Modal -->
    <div class="modal hidden" id="adminLoginModal">
        <div class="modal-backdrop" onclick="hideAdminLogin()"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3>Admin Login</h3>
                <button class="modal-close" onclick="hideAdminLogin()">Ã—</button>
            </div>
            <div class="modal-body">
                <form id="adminLoginForm" onsubmit="handleAdminLogin(event)">
                    <div class="form-group">
                        <label class="form-label">Username</label>
                        <input type="text" class="form-control" name="username" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Password</label>
                        <input type="password" class="form-control" name="password" required>
                    </div>
                    <button type="submit" class="btn btn--primary btn--full-width">Login</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Admin Panel -->
    <div class="admin-panel hidden" id="adminPanel">
        <div class="admin-header">
            <div class="container">
                <div class="flex justify-between items-center">
                    <h2>Admin Dashboard</h2>
                    <button class="btn btn--secondary" onclick="logoutAdmin()">Logout</button>
                </div>
            </div>
        </div>

        <div class="container admin-content">
            <!-- Admin Navigation -->
            <div class="admin-nav">
                <button class="admin-nav-btn active" data-panel="dashboard">Dashboard</button>
                <button class="admin-nav-btn" data-panel="products">Products</button>
                <button class="admin-nav-btn" data-panel="categories">Categories</button>
                <button class="admin-nav-btn" data-panel="settings">Settings</button>
            </div>

            <!-- Dashboard Panel -->
            <div class="admin-panel-content" id="dashboardPanel">
                <h3>Dashboard Statistics</h3>
                <div class="stats-grid">
                    <div class="stat-card">
                        <h4>Total Products</h4>
                        <div class="stat-number" id="totalProducts">4</div>
                    </div>
                    <div class="stat-card">
                        <h4>Categories</h4>
                        <div class="stat-number" id="totalCategories">4</div>
                    </div>
                    <div class="stat-card">
                        <h4>Active Products</h4>
                        <div class="stat-number" id="activeProducts">4</div>
                    </div>
                </div>
            </div>

            <!-- Products Panel -->
            <div class="admin-panel-content hidden" id="productsPanel">
                <div class="panel-header">
                    <h3>Product Management</h3>
                    <button class="btn btn--primary" onclick="showAddProduct()">Add New Product</button>
                </div>
                <div class="products-table-container">
                    <table class="admin-table" id="adminProductsTable">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Category</th>
                                <th>Price</th>
                                <th>Stock</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Products will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Categories Panel -->
            <div class="admin-panel-content hidden" id="categoriesPanel">
                <div class="panel-header">
                    <h3>Category Management</h3>
                    <button class="btn btn--primary" onclick="showAddCategory()">Add New Category</button>
                </div>
                <div class="categories-table-container">
                    <table class="admin-table" id="adminCategoriesTable">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Slug</th>
                                <th>Display Order</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Categories will be loaded here -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Settings Panel -->
            <div class="admin-panel-content hidden" id="settingsPanel">
                <h3>Shop Settings</h3>
                <form id="settingsForm" onsubmit="saveSettings(event)">
                    <div class="settings-grid">
                        <div class="form-group">
                            <label class="form-label">Shop Name</label>
                            <input type="text" class="form-control" name="shop_name" id="shopName" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Currency</label>
                            <select class="form-control" name="currency" id="currency">
                                <option value="USD">USD ($)</option>
                                <option value="EUR">EUR (â‚¬)</option>
                                <option value="GBP">GBP (Â£)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">WhatsApp Number</label>
                            <input type="text" class="form-control" name="whatsapp_number" id="whatsappNumber" placeholder="+1234567890">
                        </div>
                        <div class="form-group">
                            <label class="form-label">Promotional Banner Text</label>
                            <input type="text" class="form-control" name="banner_text" id="bannerText">
                        </div>
                    </div>
                    <button type="submit" class="btn btn--primary">Save Settings</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Product Form Modal -->
    <div class="modal hidden" id="productFormModal">
        <div class="modal-backdrop" onclick="hideProductForm()"></div>
        <div class="modal-content modal-lg">
            <div class="modal-header">
                <h3 id="productFormTitle">Add New Product</h3>
                <button class="modal-close" onclick="hideProductForm()">Ã—</button>
            </div>
            <div class="modal-body">
                <form id="productForm" onsubmit="saveProduct(event)">
                    <input type="hidden" name="product_id" id="productId">
                    <div class="form-grid">
                        <div class="form-group">
                            <label class="form-label">Product Name</label>
                            <input type="text" class="form-control" name="name" id="productName" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Category</label>
                            <select class="form-control" name="category" id="productCategory" required>
                                <option value="">Select Category</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Price</label>
                            <input type="number" step="0.01" class="form-control" name="price" id="productPrice" required>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Stock</label>
                            <input type="number" class="form-control" name="stock" id="productStock" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Description</label>
                        <textarea class="form-control" name="description" id="productDescription" rows="3" required></textarea>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn--secondary" onclick="hideProductForm()">Cancel</button>
                        <button type="submit" class="btn btn--primary">Save Product</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Category Form Modal -->
    <div class="modal hidden" id="categoryFormModal">
        <div class="modal-backdrop" onclick="hideCategoryForm()"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="categoryFormTitle">Add New Category</h3>
                <button class="modal-close" onclick="hideCategoryForm()">Ã—</button>
            </div>
            <div class="modal-body">
                <form id="categoryForm" onsubmit="saveCategory(event)">
                    <input type="hidden" name="category_id" id="categoryId">
                    <div class="form-group">
                        <label class="form-label">Category Name</label>
                        <input type="text" class="form-control" name="name" id="categoryName" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">URL Slug</label>
                        <input type="text" class="form-control" name="slug" id="categorySlug" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Display Order</label>
                        <input type="number" class="form-control" name="display_order" id="categoryDisplayOrder" required>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn--secondary" onclick="hideCategoryForm()">Cancel</button>
                        <button type="submit" class="btn btn--primary">Save Category</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>